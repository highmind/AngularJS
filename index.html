<!DOCTYPE html>
<html  ng-app="movie">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<title>AJS</title>
<link rel="stylesheet" href="/bower_components/bootstrap/dist/css/bootstrap.min.css">

<script type="text/javascript" src="/bower_components/angular/angular.min.js"></script>
<script type="text/javascript" src="js/app.js"></script>
<style>
    .mT20{margin-top:20px;}
</style>
</head>

<body>


<div class="container">
<!-- 头部开始 -->
    <div class="row">
        <div class="page-header">
            <h1>电影网站</h1>
            <ul class="nav nav-pills">
              <li role="presentation" class="active"><a href >首页</a></li>
              <li role="presentation"><a href>列表页</a></li>
              <li role="presentation"><a href >详情页</a></li>
            </ul>
        </div>
          <!-- PanelController开始 -->
          <!-- as panel是控制器的别名，只有控制器内部使用了 this才可以使用别名 -->
         <div class="page-header" ng-controller="PanelController as panel">
            <!-- ng-init是tab的 初始值 -->
            <ul class="nav nav-tabs">
                <!-- 使用ng-click处理tab标签, ng-class 当 ：后面的表达式为true时，添加前面的类 -->
              <li role="presentation"  ng-click="panel.selectTab(1)" ng-class="{active:panel.isSelected(1)}"><a href >科幻</a></li>
              <li role="presentation"  ng-click="panel.selectTab(2)" ng-class="{active:panel.isSelected(2)}"><a href>爱情</a></li>
              <li role="presentation"  ng-click="panel.selectTab(3)" ng-class="{active:panel.isSelected(3)}"><a href >古装</a></li>
            </ul>

            <div class="panel" ng-show="panel.isSelected(1)">
                科幻
            </div>

            <div class="panel" ng-show="panel.isSelected(2)">
                爱情
            </div>

             <div class="panel" ng-show="panel.isSelected(3)">
                古装
            </div>

        </div>
        <!-- PanelController结束 -->
       
    </div>
<!-- 头部结束 -->

<!-- 主体开始 -->
<!-- 使用ng-controller设置控制器 -->
<div class="detailBox"  ng-controller="MovieController">
  <table>

    <tr border="1" ng-repeat="test in testArr" ng-if="$index % 3 === 0 && !$last ">

      <td border="1" ng-if="testArr[$index+2]">
        {{testArr[$index]}}
      </td>
       <td border="1" ng-if="testArr[$index+2]">
        {{testArr[$index +1]}}
      </td>
       <td border="1" ng-if="testArr[$index+2]" >
        {{testArr[$index+2]}}
      </td>
    </tr>

     <tr border="1" ng-repeat="movie in testArr" ng-if="$last && $index % 3 !== 0">

      <td border="1" >
        {{$index}}
      </td>
    </tr>


  </table>
  <div class="detailCon" >
    <!-- 当索引为0或者3的倍数 而且不是最后一个时，按3列输出 -->
    <div class="row"  ng-repeat="movie in movieArr" ng-if="$index % 3 === 0 && !$last ">

        <div class="col-md-4">
          <div class="thumbnail">
            <img ng-src="{{movieArr[$index].images.large}}" alt="{{movieArr[$index].title}}">

            <div class="caption">
              <!-- 使用ng-repeat循环数组 -->
                <h4><b>{{movieArr[$index].title}}</b></h4> 
                <p>导演:{{movieArr[$index].directors[0].name}}</p>     
                <p>类型:{{movieArr[$index].genres[0]}}</p>
                <p>年份:{{movieArr[$index].year}}</p>
                <p>
                  <a href="#" class="btn btn-primary" role="button">查询详情</a>
               </p>
            </div>
          </div>
        </div>

        <div class="col-md-4">
         <div class="thumbnail">
            <img ng-src="{{movieArr[$index+1].images.large}}" alt="{{movieArr[$index+1].title}}">

            <div class="caption">
              <!-- 使用ng-repeat循环数组 -->
                <h4><b>{{movieArr[$index+1].title}}</b></h4> 
                <p>导演:{{movieArr[$index+1].directors[0].name}}</p>     
                <p>类型:{{movieArr[$index+1].genres[0]}}</p>
                <p>年份:{{movieArr[$index+1].year}}</p>
                <p>
                  <a href="#" class="btn btn-primary" role="button">查询详情</a>
               </p>
            </div>
          </div>
        </div>

        <div class="col-md-4">
          <div class="thumbnail">
            <img ng-src="{{movieArr[$index+2].images.large}}" alt="{{movieArr[$index+2].title}}">

            <div class="caption">
              <!-- 使用ng-repeat循环数组 -->
                <h4><b>{{movieArr[$index+2].title}}</b></h4> 
                <p>导演:{{movieArr[$index+2].directors[0].name}}</p>     
                <p>类型:{{movieArr[$index+2].genres[0]}}</p>
                <p>年份:{{movieArr[$index+2].year}}</p>
                <p>
                  <a href="#" class="btn btn-primary" role="button">查询详情</a>
               </p>
            </div>

          </div>
        </div>

        </div>
       
        <div class="row"  ng-repeat="movie in movieArr" ng-if="$last && $index % 3 !== 0">
               <div class="col-md-4">
                 <div class="thumbnail">
                    <img ng-src="{{movieArr[$index].images.large}}" alt="{{movieArr[$index].title}}">

                    <div class="caption">
                      <!-- 使用ng-repeat循环数组 -->
                        <h4><b>{{movieArr[$index].title}}</b></h4> 
                        <p>导演:{{movieArr[$index].directors[0].name}}</p>     
                        <p>类型:{{movieArr[$index].genres[0]}}</p>
                        <p>年份:{{movieArr[$index].year}}</p>
                        <p>
                          <a href="#" class="btn btn-primary" role="button">查询详情</a>
                       </p>
                    </div>
                  </div>
                </div>
        </div>


     </div>
  </div>
</div>
<!-- 主体结束 -->


</div>

</body>
</html>
